namespace = uplift

### Uplifting Generic Success
planet_event = {
	id = uplift.6010
	title = uplift.6010.name
	desc = {
		text = uplift.6010.continental.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_continental
			}
		}
	}
	desc = {
		text = uplift.6010.ocean.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_ocean
			}
		}
	}
	desc = {
		text = uplift.6010.tropical.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_tropical
			}
		}
	}
	desc = {
		text = uplift.6010.arid.desc
		trigger = {
			this = {
				is_planet_class = pc_arid
			}
		}
	}
	desc = {
		text = uplift.6010.desert.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_desert
			}
		}
	}
	desc = {
		text = uplift.6010.savannah.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_savannah
			}
		}
	}
	desc = {
		text = uplift.6010.tundra.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_tundra
			}
		}
	}
	desc = {
		text = uplift.6010.arctic.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_arctic
			}
		}
	}
	desc = {
		text = uplift.6010.alpine.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_alpine
			}
		}
	}
	desc = {
		text = uplift.6010.nuked.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_nuked
			}
		}
	}
	desc = {
		text = uplift.6010.gaia.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_gaia
			}
		}
	}
	desc = {
		text = uplift.6010.relic.desc
		exclusive_trigger = {
			this = {
				is_planet_class = pc_relic
			}
		}
	}
	desc = {
		text = uplift.6010.fallback.desc
	}
	picture = GFX_evt_society_research
	location = root
	show_sound = notification_uplift

	is_triggered_only = yes

	trigger = {
		has_planet_flag = upl_ongoing_planet
	}

	immediate = {
		owner = {
			set_country_flag = found_presapients
			remove_country_flag = upl_ongoing_generic
		}
		remove_planet_flag = upl_ongoing_planet
		# This bit is here because Paradox left a bug in the game and I'm going to try to fix it
		every_owned_pop_group = {
			limit = {
				has_trait = trait_uplifted
			}
			save_event_target_as = old_pop_group
			planet = {
				create_pop_group = {
					pop_group = event_target:old_pop_group
					species = event_target:old_pop_group.species
					category = worker
					size = 0
					effect = {
						transfer_pop_amount = {
							source = event_target:old_pop_group
							target = this
							percentage = 1 # 100%
						}
					}
				}
			}
		}
	}

	option = {
		name = uplift.6010.a
		custom_tooltip = uplift.6010.tt
		hidden_effect = {
			owner = { country_event = { id = tutorial.58 days = 5 } }
			planet_event = { id = uplift.7199 }
		}
	}
}